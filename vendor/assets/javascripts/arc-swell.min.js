!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(){function e(t){n(this,e),this.url=t.url,this.container=t.container,this.dimensions_cache={}}return s(e,[{key:"init",value:function(){var e=this;this.container.className="arc-swell-container",this.getImages(),this.thumbs=[],this.container.addEventListener("click",function(t){t.target.dataset.swellThumbId&&console.log(e.thumbs[t.target.dataset.swellThumbId].summary)})}},{key:"getImages",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.loadImages(t.responseText)},t.open("GET",this.url),t.send()}},{key:"loadImages",value:function(e){this.image_data=JSON.parse(e),this.image_count=this.image_data.count,this.images=this.image_data.images;for(var t=0;t<this.image_count;t++){var i=new o.default({src:this.images[t].src,summary:this.images[t].text,height:this.images[t].height,width:this.images[t].width,id:[t],cache:this.dimensions_cache});this.container.appendChild(i.build()),this.thumbs.push(i)}}}]),e}();t.default=r},function(e,t){},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return new Promise(function(i,n){var s=document.createElement("div"),a=new Image;a.onload=function(){t[e.id]={},t[e.id].height=this.height,t[e.id].width=this.width,s.remove(),i(t)},a.onerror=function(){n("Couldn't load stand-in image")},s.style.position="absolute",s.style.left="-9999px",s.appendChild(a),document.body.appendChild(s),a.src=e.src})}function a(e){var t=e.cache||{};void 0===t[e.id]?s(e,t).then(function(t){e.height=t[e.id].height,e.width=t[e.id].width,void 0!=h?h.show(e):(h=new c(e),h.init(),h.show(e))}).catch(function(e){console.log("Couldn't get image dimensions")}):(e.height=t[e.id].height,e.width=t[e.id].width,void 0!=h?h.show(e):(h=new c(e),h.init(),h.show(e)))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.show=a;var r=document.createElement("div"),h=void 0;r.className="arc-swell-overlay";var c=t.Popup=function(){function e(t){n(this,e),this.parent=t.parent||document.body}return o(e,[{key:"init",value:function(){var e=this;this.parent.appendChild(r),this.box=document.createElement("div"),this.box.className="arc-swell-box",this.close_box=document.createElement("div"),this.close_box.className="arc-swell-close",this.close_box.innerText="X",this.image_box=document.createElement("div"),this.image_box.className="arc-swell-image-box",this.image=document.createElement("img"),this.caption_box=document.createElement("div"),this.caption_box.className="arc-swell-caption-box",this.parent.appendChild(this.box),this.box.appendChild(this.close_box),this.box.appendChild(this.image_box),this.image_box.appendChild(this.image),this.box.appendChild(this.caption_box),this.close_box.addEventListener("click",function(){e.hide()}),r.addEventListener("click",function(){e.hide()})}},{key:"isHeightControlled",value:function(e,t){return e/(t+(window.innerWidth<600?0:220))>=window.innerHeight/window.innerWidth}},{key:"resize",value:function(e,t){var i=t/e,n=window.innerWidth<600;if(this.isHeightControlled(e,t)){var s=.9*window.innerHeight,a=s*i;this.image.style.height=s+"px",this.image.style.width=a+"px"}else{var o=.9*window.innerWidth-(n?0:220),r=(.9*window.innerWidth-(n?0:220))/i;this.image.style.height=r+"px",this.image.style.width=o+"px"}}},{key:"handleWindowResize",value:function(e){this.resize(e.height,e.width)}},{key:"show",value:function(e){this.image.src=e.src,this.caption_box.innerHTML=e.summary,this.box.style.display="flex",r.style.display="block",this.resize(e.height,e.width),window.addEventListener("resize",this.handleWindowResize.bind(this,e))}},{key:"hide",value:function(){this.box.style.display="none",r.style.display="none",window.removeEventListener("resize",this.handleWindowResize)}}]),e}()},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(2),o=function(){function e(t){n(this,e),this.src=t.src,this.height=t.height,this.width=t.width,this.summary=t.summary,this.id=t.id,this.cache=t.cache}return s(e,[{key:"build",value:function(){var e=this;return this.thumb_img=document.createElement("img"),this.thumb_img.src=this.src.thumb,this.thumb_img.alt=this.summary,this.thumb_img.title=this.summary,this.thumb_img.dataset.swellThumbId=this.id,this.thumb_img.className="arc-swell-thumb",this.thumb_img.addEventListener("click",function(){(0,a.show)({src:e.src.full,summary:e.summary,height:e.height,width:e.width,cache:e.cache,id:e.id})}),this.thumb_img}}]),e}();t.default=o},function(e,t,i){"use strict";i(1);var n=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(n);document.addEventListener("DOMContentLoaded",function(){console.log("Initializing gallery ...");var e=document.querySelectorAll("[data-arc-swell]");if(e.length>0)for(var t=0;t<e.length;t++){var i=new s.default({container:e[t],url:e[t].dataset.arcSwell});i.init()}})}]);